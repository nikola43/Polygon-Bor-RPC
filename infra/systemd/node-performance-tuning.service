[Unit]
Description=Blockchain Node Performance Tuning
After=multi-user.target

[Service]
Type=oneshot
RemainAfterExit=yes

# CPU Performance mode
ExecStart=/bin/bash -c 'for cpu in /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor; do echo performance > $cpu; done'

# NVMe read-ahead tuning
ExecStart=/bin/bash -c 'echo 2048 > /sys/block/nvme2n1/queue/read_ahead_kb'
ExecStart=/bin/bash -c 'echo 2048 > /sys/block/nvme3n1/queue/read_ahead_kb'

[Install]
WantedBy=multi-user.target
